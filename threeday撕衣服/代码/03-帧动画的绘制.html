<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body>
    <canvas width="1200" height="600" style="border: 1px solid red;"></canvas>
    <script>
        var cs=document.querySelector('canvas');
        var ctx=cs.getContext('2d');
        var w=174; //鱼的宽
        var h=126; //鱼的高
        var bgImg=new Image();
        var fishImg=new Image();

        bgImg.src='img/startbg.jpg';
        fishImg.src='img/fish8.png';

        bgImg.onload=function(){
//            ctx.drawImage(bgImg,0,0,cs.width,cs.height);
        }

        fishImg.onload=function(){
            var y=0;
            var i=0;
            setInterval(function(){
                //清空画布
                ctx.clearRect(0,0,cs.width,cs.height);
                //画背景
                ctx.drawImage(bgImg,0,0,cs.width,cs.height);

                ctx.drawImage(fishImg,0,y*h,w,h,100+i,100,w,h);

                ctx.drawImage(fishImg,0,y*h,w,h,60+i,50,w*0.7,h*0.7);

                ctx.drawImage(fishImg,0,y*h,w,h,60+i,150,w*0.4,h*0.4);

                y++;
                i+=15;
                if(y>=8){
                    y=0;
                }
                if(i>1200){
                    i=-100;
                }
            },100);


        }


    </script>
</body>
</html>