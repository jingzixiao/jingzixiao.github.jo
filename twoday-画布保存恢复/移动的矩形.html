<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>移动的矩形</title>
  <style>
    canvas{
      border: 1px solid #c0c0c0;
    }
  </style>
</head>
<body>
<canvas width="500" height="400"></canvas>
<script>
  var cs=document.querySelector("canvas");
  var ctx=cs.getContext("2d");
  var x=0;
  var y=0;
  var sx=1*3;
  var sy=1*3;
  var size=30;
  
  setInterval(function(){
//    ctx.clearRect(0,0,cs.width,cs.height);
    ctx.fillStyle="rgba(255,255,255,.3)"
    ctx.fillRect(0,0,cs.width,cs.height);
    x=x+sx;
    y=y+sy;
    if(x<=0 || x>=cs.width-size){
      sx=-sx;
    }
    if(y<0 || y>=cs.height-size){
      sy=-sy;
    }
    ctx.strokeRect(x,y,size,size);
  },10)
  
 </script>
</body>
</html>